/*! a1-components 16-11-2015 */
!function(){"use strict";function a(a){function b(a,b,c,d){var e=d[0];if(void 0!==e){var f={},g=function(b){for(a.breadcrumbs=[];b;){if(!f[b])throw new Error("Couldn't find the option with id "+b);a.breadcrumbs.push(f[b]),b=f[b].parentId}a.breadcrumbs=a.breadcrumbs.reverse()},h=function(){f={},a.options.forEach(function(a,b,c){f[a.id]=a},this)},i=a.$watch("options",function(a){h()},!0);a.selectOption=function(b){a.selectedOption=b,g(b)},a.getSelectedOption=function(){return a.selectedOption?f[a.selectedOption]:{name:a.placeholder,id:null,parentId:null}},a.$on("$destroy",function(){i()}),h(),a.showSubselect=!1,a.selectedOption=null,a.breadcrumbs=[]}}return{restrict:"E",require:["ngModel"],scope:{options:"=",label:"@",placeholder:"@"},templateUrl:"../src/templates/subselect.tpl.html",link:{post:b}}}angular.module("nolazybits.ui.subselect",[]).directive("nlbSubselect",["$parse",a])}();